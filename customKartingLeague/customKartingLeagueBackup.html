<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Openable Pages</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }

        header {
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 10px;
        }

        nav {
            background-color: #444;
            padding: 10px;
            text-align: center;
        }

        nav a {
            color: #fff;
            text-decoration: none;
            padding: 10px;
            margin: 5px;
            border-radius: 5px;
            background-color: #555;
            transition: background-color 0.3s;
        }

        nav a:hover {
            background-color: #777;
        }

        #search-bar-container {
            margin: 10px;
            display: none;
            /* Hide the search bar by default */
        }

        #search-note {
            text-align: center;
            font-style: italic;
            color: #777;
            display: none;
            /* Hide the search note by default */
        }

        #search-bar {
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        #pages-container {
            margin: 20px;
        }

        .page {
            display: none;
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        img {
            max-width: 100%;
            height: auto;
            border-radius: 5px;
            margin-bottom: 10px;
        }

        .page-ending {
            margin-top: 20px;
            border-top: 1px solid #ccc;
            padding-top: 10px;
            font-style: italic;
            color: #555;
        }

        #page-list {
            text-align: center;
        }

        #page-list h2 {
            margin-top: 0;
            /* Remove default margin */
            color: #333;
            /* Adjust text color */
        }

        #page-list ul {
            list-style: none;
            padding: 0;
        }

        #page-list li {
            margin-bottom: 5px;
        }

        #search-results {
            display: none;
        }

        #search-results ul {
            list-style: none;
            padding: 0;
        }

        #search-results li {
            margin-bottom: 5px;
        }

        #search-results a {
            color: blue;
            /* Set link color to blue */
            text-decoration: none;
            font-weight: bold;
        }

        #search-results a:hover {
            text-decoration: underline;
        }

        .page-title {
            font-size: 1.5em;
            margin-bottom: 5px;
        }

        .author {
            font-style: italic;
            color: #555;
            font-size: 0.8em;
            /* Make the author text smaller */
            cursor: pointer;
            /* Add cursor pointer for better interaction */
        }
    </style>
</head>

<body>

    <header>
        <h1>Openable Pages</h1>
    </header>

    <!-- Navigation buttons -->
    <nav>
        <a href="#">Page List</a>
        <a href="#search">Search</a>
    </nav>

    <!-- Search note -->
    <div id="search-note">(ONLY WORKS IN SEARCH PAGE)</div>

    <!-- Search bar (only on the search page) -->
    <div id="search-bar-container">
        <input type="text" id="search-bar" placeholder="Search..." oninput="filterPages()">
    </div>

    <!-- Container for pages -->
    <div id="pages-container"></div>

    <!-- Page List -->
    <div id="page-list" class="page">
        <h2>Pages List</h2>
        <ul id="page-links-list"></ul>
    </div>

    <!-- Search Results -->
    <div id="search-results" class="page">
        <h2>Search Results</h2>
        <ul id="search-results-list"></ul>
    </div>

    <script>
        // Sample data
        const pagesData = [
            {
                id: 1,
                title: "Ice Page",
                description: "A page with a frozen landscape.",
                image: "https://placekitten.com/300/200",
                ending: "Thanks for visiting the Ice Page!",
                author: "Elsa",
                category: "Ice Pages"
            },
            {
                id: 2,
                title: "Desert Page",
                description: "A page with endless dunes and a magic carpet.",
                image: "https://placekitten.com/300/201",
                ending: "Hope you enjoyed the Desert Page!",
                author: "Aladdin",
                category: "Desert Pages"
            },
            {
                id: 3,
                title: "Fire Page",
                description: "A page with flames and mythical creatures.",
                image: "https://placekitten.com/300/202",
                ending: "That's the end of the Fire Page!",
                author: "Hades",
                category: "Fire Pages"
            },
            {
                id: 4,
                title: "Mystery Page",
                description: "A mysterious page with hidden clues.",
                image: "https://placekitten.com/300/203",
                ending: "The mystery unfolds in this page!",
                author: "Sherlock Holmes",
                category: "Mystery Pages"
            }
            // Add more pages as needed
        ];
        

        // Function to create a page element
        function createPageElement(page) {
            const pageElement = document.createElement("div");
            pageElement.classList.add("page");
            pageElement.id = `page-${page.id}`;
            pageElement.innerHTML = `
      <h2 class="page-title">${page.title}</h2>
      <p>${page.description}</p>
      <img src="${page.image}" alt="${page.title}">
      <div class="page-ending">${page.ending}</div>
      <div class="author" onclick="showAuthorPages('${page.author}')">(${page.author})</div>
    `;
            document.getElementById("pages-container").appendChild(pageElement);
        }

        // Create page elements
        pagesData.forEach(createPageElement);

        // Function to show a specific page based on the hash in the URL
        function showPageFromHash() {
            const hash = window.location.hash.slice(1); // Remove the '#' from the hash
            const pageId = hash.replace("page", "");

            // Show the specified page or default to the first page
            showPage(pageId || "page-list");
        }

        // Show the page corresponding to the hash when the page loads
        window.addEventListener("load", showPageFromHash);

        // Listen for changes in the hash and show the corresponding page
        window.addEventListener("hashchange", showPageFromHash);

        // Function to show a specific page
        function showPage(pageId) {
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => {
                page.style.display = 'none';
            });

            const selectedPage = document.getElementById(`page-${pageId}`);
            if (selectedPage) {
                selectedPage.style.display = 'block';
            }

            // Show/hide Page List based on the current page
            const pageList = document.getElementById('page-list');
            pageList.style.display = (pageId === 'page-list') ? 'block' : 'none';

            // Show/hide Search Results based on the current page
            const searchResults = document.getElementById('search-results');
            searchResults.style.display = (pageId === 'search') ? 'block' : 'none';

            // Show/hide Search Bar based on the current page
            const searchBarContainer = document.getElementById('search-bar-container');
            searchBarContainer.style.display = (pageId === 'search') ? 'block' : 'none';

            // Show/hide Search Note based on the current page
            const searchNote = document.getElementById('search-note');
            searchNote.style.display = (pageId === 'search') ? 'block' : 'none';

            // Update the links in the Page List
            updatePageListLinks();

            // Update the links in the Search Results
            updateSearchResultsLinks();
        }

        // Function to filter pages based on the search input
        function filterPages() {
            const searchInput = document.getElementById('search-bar').value.toLowerCase();

            // Update the links in the Search Results based on the search input
            updateSearchResultsLinks(searchInput);
        }

        // Function to update the links in the Page List
        function updatePageListLinks() {
            const pageLinksList = document.getElementById('page-links-list');
            pageLinksList.innerHTML = '';

            const categorizedPages = categorizePages(pagesData);

            for (const category in categorizedPages) {
                const categoryListItem = document.createElement('li');
                const categoryHeader = document.createElement('h3');
                categoryHeader.textContent = category;
                categoryListItem.appendChild(categoryHeader);

                const categoryList = document.createElement('ul');

                categorizedPages[category].forEach(page => {
                    const listItem = document.createElement('li');
                    const link = document.createElement('a');
                    link.href = `#page${page.id}`;
                    link.innerHTML = `<span class="page-title">${page.title}</span> <span class="author" onclick="showAuthorPages('${page.author}')">(${page.author})</span>`;
                    listItem.appendChild(link);
                    categoryList.appendChild(listItem);
                });

                categoryListItem.appendChild(categoryList);
                pageLinksList.appendChild(categoryListItem);
            }
        }

        // Function to update the links in the Search Results
        function updateSearchResultsLinks(searchInput) {
            const searchResultsList = document.getElementById('search-results-list');
            searchResultsList.innerHTML = '';

            pagesData.forEach(page => {
                const title = page.title.toLowerCase();
                const description = page.description.toLowerCase();
                const ending = page.ending.toLowerCase();
                const author = page.author.toLowerCase();

                if (title.includes(searchInput) || description.includes(searchInput) || ending.includes(searchInput) || author.includes(searchInput)) {
                    const listItem = document.createElement('li');
                    const link = document.createElement('a');
                    link.href = `#page${page.id}`;
                    link.innerHTML = `<span class="page-title">${page.title}</span> <span class="author" onclick="showAuthorPages('${page.author}')">(${page.author})</span>`;
                    listItem.appendChild(link);
                    searchResultsList.appendChild(listItem);
                }
            });
        }

        // Function to categorize pages by kind of page
        function categorizePages(pages) {
            const categorizedPages = {};

            pages.forEach(page => {
                if (!categorizedPages[page.category]) {
                    categorizedPages[page.category] = [];
                }

                categorizedPages[page.category].push(page);
            });

            return categorizedPages;
        }

        // Function to show pages by a specific author
        function showAuthorPages(author) {
            const authorPages = pagesData.filter(page => page.author === author);
            const authorPageTitles = authorPages.map(page => page.title);
            alert(`${author}'s Pages:\n${authorPageTitles.join('\n')}`);
        }
    </script>

</body>

</html>