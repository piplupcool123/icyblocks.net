<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Epic Friendship of Oshawott and Piplup</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Courier+Prime&family=Press+Start+2P&family=VT323&family=Pixelify+Sans&family=Silkscreen&display=swap');

        body {
            font-family: 'Courier Prime', monospace;
            font-size: 20px;
            line-height: 1.8;
            margin: 0;
            padding: 20px;
            transition: background-color 0.5s ease;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }
        h1, h2 {
            text-align: center;
            color: #1e40af;
            font-family: 'Press Start 2P', cursive;
        }
        h1 { font-size: 2.5em; margin-bottom: 1em; }
        h2 { font-size: 2em; margin-top: 2em; }
        .ascii-art {
            text-align: center;
            white-space: pre;
            font-size: 0.8em;
            line-height: 1.2;
            margin: 2em 0;
            font-family: 'Courier Prime', monospace;
        }
        .story-section {
            margin-bottom: 100vh;
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 1s ease, transform 1s ease;
            padding: 2em;
            border-radius: 10px;
            position: relative;
        }
        .story-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            backdrop-filter: blur(5px);
            z-index: -1;
            opacity: 0.5;
            transition: backdrop-filter 0.5s ease, opacity 0.5s ease;
        }
        .visible {
            opacity: 1;
            transform: translateY(0);
        }
        .oshawott, .piplup, .water, .friendship {
            font-weight: bold;
            transition: all 0.3s ease;
        }
        .quote {
            font-style: italic;
            font-size: 1.2em;
            text-align: center;
            margin: 2em 0;
            transition: all 0.3s ease;
        }
        .water-gun {
            text-align: center;
            margin: 2em 0;
        }
        button {
            background-color: #3b82f6;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            cursor: pointer;
            border-radius: 5px;
            font-family: 'Press Start 2P', cursive;
        }
        button:hover {
            background-color: #2563eb;
        }
        #waterArt {
            font-size: 1em;
            line-height: 1.2;
            margin-top: 1em;
        }
        .transition-space {
            height: 50vh;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>The Epic Friendship of Oshawott and Piplup</h1>
        
        <div class="ascii-art">
   _____     _____
  /     \   /     \
 /       \ /       \
|  (o) (o)|  (o) (o)|
 \   <   / \   >   /
  \  =  /   \  =  /
   \_=_/     \_=_/
    | |       | |
  __/ \__   __/ \__
 /       \ /       \
        </div>

        <div id="story"></div>

        <div class="water-gun">
            <button onclick="useWaterGun()">Use Water Gun</button>
            <pre id="waterArt"></pre>
        </div>

        <div class="ascii-art">
   ___________
  /           \
 /   _     _   \
|   ((\ /))   |
|    \ ~ /    |
 \    ) (    /
  \  /___\  /
   \_______/
        </div>
    </div>

    <script>
        const storyContent = [
            {
                title: "An Unexpected Meeting",
                content: `In the vibrant world of Pokémon, two unlikely friends were about to embark on an unforgettable journey. <span class="oshawott">Oshawott</span>, the sprightly <span class="water">Water</span>-type from Unova, and <span class="piplup">Piplup</span>, the proud penguin Pokémon from Sinnoh, crossed paths on a sunny beach one fateful day.

<span class="oshawott">Oshawott</span>, always eager for new adventures, spotted <span class="piplup">Piplup</span> struggling with a particularly stubborn Shellder. Without hesitation, <span class="oshawott">Oshawott</span> waddled over, its scalchop at the ready. "Osha! Oshawott!" it cried, offering its help.

<span class="piplup">Piplup</span>, initially too proud to accept assistance, puffed up its chest and chirped indignantly. But as the Shellder's grip tightened, <span class="piplup">Piplup</span> realized it might need a hand... or a paw.`,
                font: "'VT323', monospace",
                effect: (section, scroll) => {
                    const blur = Math.min(10, Math.max(0, (scroll - section.offsetTop) / 100));
                    section.style.setProperty('--blur', `${blur}px`);
                    section.querySelectorAll('.oshawott, .piplup').forEach(el => {
                        el.style.textShadow = `0 0 ${5 + blur}px #3b82f6`;
                    });
                }
            },
            {
                title: "Teamwork Makes the Dream Work",
                content: `Together, <span class="oshawott">Oshawott</span> and <span class="piplup">Piplup</span> worked in tandem. <span class="oshawott">Oshawott</span> used its <span class="water">Water Gun</span> to create a distraction, while <span class="piplup">Piplup</span> sneakily pecked at the Shellder's shell. With a pop, the Shellder released its hold, and <span class="piplup">Piplup</span> was free!

From that moment on, a beautiful <span class="friendship">friendship</span> blossomed. <span class="oshawott">Oshawott</span> and <span class="piplup">Piplup</span> became inseparable, their days filled with splashing in tide pools, building sandcastles, and having spirited <span class="water">Water Gun</span> contests.`,
                font: "'Pixelify Sans', sans-serif",
                effect: (section, scroll) => {
                    const wave = Math.sin(scroll / 100) * 10;
                    section.querySelectorAll('.water').forEach(el => {
                        el.style.transform = `translateY(${wave}px)`;
                    });
                    section.style.setProperty('--blur', `${Math.abs(wave / 2)}px`);
                }
            },
            {
                title: "A Sunset to Remember",
                content: `As the sun began to set on their first day as friends, <span class="oshawott">Oshawott</span> and <span class="piplup">Piplup</span> sat side by side on the warm sand. They watched the sky transform into a canvas of oranges and pinks, their hearts full of joy and newfound companionship.

<span class="quote">"Osha, Oshawott!" (This is the best day ever!)</span>

<span class="quote">"Pip, Piplup!" (I couldn't agree more!)</span>

But their adventure was far from over. As night fell, the beach came alive with bioluminescent Pokémon. Lanturn and Chinchou lit up the shallow waters, creating a magical underwater light show.`,
                font: "'Silkscreen', cursive",
                effect: (section, scroll) => {
                    const hue = (scroll % 360);
                    section.style.color = `hsl(${hue}, 100%, 50%)`;
                    section.style.setProperty('--blur', `${Math.abs(Math.sin(scroll / 200) * 5)}px`);
                }
            },
            {
                title: "Midnight Shenanigans",
                content: `Inspired by the twinkling sea, <span class="oshawott">Oshawott</span> and <span class="piplup">Piplup</span> decided to put on a performance of their own. They practiced synchronized swimming, their silhouettes gracefully gliding through the glowing waters.

<span class="oshawott">Oshawott</span> twirled its scalchop like a baton, creating shimmering trails in the water. Not to be outdone, <span class="piplup">Piplup</span> performed a series of elegant dives, each splash creating a burst of luminescent sparkles.

As they frolicked in the moonlit waves, other Pokémon gathered to watch. Krabby clapped their claws in applause, while Wingull circled overhead, cawing their approval.`,
                font: "'Press Start 2P', cursive",
                effect: (section, scroll) => {
                    const twinkle = Math.random() > 0.5 ? 1 : 0.5;
                    section.querySelectorAll('.oshawott, .piplup').forEach(el => {
                        el.style.opacity = twinkle;
                    });
                    section.style.setProperty('--blur', `${Math.random() * 3}px`);
                }
            },
            {
                title: "Dawn of a New Adventure",
                content: `As dawn broke, <span class="oshawott">Oshawott</span> and <span class="piplup">Piplup</span> realized they had spent the entire night playing and laughing. Exhausted but happy, they curled up together on a bed of soft seaweed, dreaming of the many adventures that awaited them.

And so began the tale of <span class="oshawott">Oshawott</span> and <span class="piplup">Piplup</span>, two <span class="water">water</span> Pokémon from different regions, united by <span class="friendship">friendship</span> and a love for the sea. Their journey was just beginning, but already they knew that together, they could weather any storm and make every day an exciting adventure.

As the sun rose higher in the sky, <span class="oshawott">Oshawott</span> and <span class="piplup">Piplup</span> stirred from their slumber, ready to face whatever challenges lay ahead. With their newfound <span class="friendship">friendship</span>, they felt invincible, capable of taking on the world one <span class="water">Water Gun</span> at a time.`,
                font: "'Courier Prime', monospace",
                effect: (section, scroll) => {
                    const sunrise = Math.min(1, (scroll - section.offsetTop) / 500);
                    section.style.backgroundColor = `rgba(255, 200, 50, ${sunrise * 0.3})`;
                    section.style.setProperty('--blur', `${(1 - sunrise) * 5}px`);
                }
            }
        ];

        const storyContainer = document.getElementById('story');

        storyContent.forEach((section, index) => {
            const sectionDiv = document.createElement('div');
            sectionDiv.classList.add('story-section');
            sectionDiv.style.fontFamily = section.font;
            sectionDiv.innerHTML = `
                <h2>${section.title}</h2>
                <p>${section.content}</p>
            `;
            storyContainer.appendChild(sectionDiv);

            if (index < storyContent.length - 1) {
                const transitionSpace = document.createElement('div');
                transitionSpace.classList.add('transition-space');
                storyContainer.appendChild(transitionSpace);
            }
        });

        function handleScroll() {
            const scrollPosition = window.scrollY;
            const windowHeight = window.innerHeight;
            const sections = document.querySelectorAll('.story-section');
            
            sections.forEach((section, index) => {
                const sectionTop = section.offsetTop;
                if (scrollPosition > sectionTop - windowHeight * 0.75) {
                    section.classList.add('visible');
                    storyContent[index].effect(section, scrollPosition);
                } else {
                    section.classList.remove('visible');
                }
            });

            // Change background color based on scroll position
            const maxScroll = document.documentElement.scrollHeight - windowHeight;
            const scrollPercentage = scrollPosition / maxScroll;
            const r = Math.max(135 - scrollPercentage * 135, 0);
            const g = Math.max(206 - scrollPercentage * 206, 0);
            const b = Math.max(250 - scrollPercentage * 250, 0);
            document.body.style.backgroundColor = `rgb(${r}, ${g}, ${b})`;

            // Adjust text color for visibility
            const textBrightness = (r + g + b) / 3;
            const textColor = textBrightness < 128 ? 'white' : 'black';
            document.body.style.color = textColor;
        }

        window.addEventListener('scroll', handleScroll);
        handleScroll(); // Initial call to set initial state

        let waterLevel = 0;
        function useWaterGun() {
            waterLevel = (waterLevel + 1) % 6;
            updateWaterArt();
        }

        function updateWaterArt() {
            const waves = '~'.repeat(waterLevel * 5);
            const waterArt = `
    |     |
    |${waves.padEnd(25, ' ')}|
    |${waves.padEnd(25, ' ')}|
    |${waves.padEnd(25, ' ')}|
    |_____|`;
            document.getElementById('waterArt').textContent = waterArt;
        }

        updateWaterArt(); // Initial call to set initial state
    </script>
</body>
</html>
